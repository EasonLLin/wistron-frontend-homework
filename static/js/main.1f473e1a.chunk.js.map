{"version":3,"sources":["constants/AuthTypes.js","reducers/auth.js","reducers/index.js","views/Public/PublicShow.js","views/Protected/ProtectedShow.js","actions/AuthActions.js","views/SignIn/components/SignInDialog.js","views/SignIn/SignInShow.js","views/Auth/AuthButton.js","App.js","serviceWorker.js","services/api/index.js","services/api/loginAPI.js","sagas.js","index.js"],"names":["SIGN_OUT","REQUEST","SUCCESS","SIGN_IN","FAILURE","CANCEL","initial","status","isAuthenticated","username","password","showSignInForm","errText","rootReducer","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","text","PublicShow","react_default","a","createElement","React","Component","ProtectedShow","signOut","signIn","authParams","payload","cancelSignIn","FormGroup","styled","div","_templateObject","Input","input","_templateObject2","Error","_templateObject3","useStyles","makeStyles","button","backgroundColor","color","progress","width","height","closeButton","position","right","top","compose","connect","dispatch","bindActionCreators","props","classes","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","_handleSignIn","asyncToGenerator","regenerator_default","mark","_callee","values","wrap","_context","prev","next","history","stop","apply","this","required","value","Button","className","onClick","Dialog","aria-labelledby","onClose","DialogTitle","id","IconButton","Close_default","react_final_form_es","onSubmit","_x","render","_ref","handleSubmit","submitting","DialogContent","name","validate","_ref2","meta","assign","placeholder","error","touched","_ref3","DialogActions","disabled","CircularProgress","SignInShow","components_SignInDialog","AuthButton","_this","App","react_router_dom","basename","style","padding","Auth_AuthButton","to","react_router","exact","path","component","Protected_ProtectedShow","Boolean","window","location","hostname","match","_axios","create","baseURL","responseType","timeout","loginAPI","axios","url","method","data","abrupt","sent","_marked","MockAdapter","delayResponse","onPost","reply","config","JSON","parse","token","rootSaga","watchRequestLogin","watchRequestSignOut","authorize","loginFlow","signOutFlow","all","call","sagas_marked","_context2","takeEvery","_marked2","_context3","_marked3","_context4","put","push","t0","response","_marked4","task","_context5","fork","take","cancel","_marked5","_context6","_marked6","sagaMiddleware","createSagaMiddleware","middlewares","applyMiddleware","store","createStore","reducer","run","ReactDOM","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1f473e1a.chunk.js","sourcesContent":["export const SIGN_OUT = {\n  REQUEST: 'SIGN_OUT_REQUEST',\n  SUCCESS: 'SIGN_OUT_SUCCESS',\n}\n\nexport const SIGN_IN = {\n  REQUEST: 'SIGN_IN_REQUEST',\n  SUCCESS: 'SIGN_IN_SUCCESS',\n  FAILURE: 'SIGN_IN_FAILURE',\n  CANCEL: 'IGN_IN_CANCEL',\n}\n","import { SIGN_IN, SIGN_OUT } from '../constants/AuthTypes.js'\n\nconst initial = {\n  status: null,\n  isAuthenticated: false,\n  username: null,\n  password: null,\n  showSignInForm: false,\n  errText: null,\n}\n\nexport default (state = initial, action) => {\n  switch (action.type) {\n    case SIGN_IN.REQUEST:\n      return {\n        ...state,\n        status: 'request',\n      }\n    case SIGN_IN.SUCCESS:\n      return {\n        ...state,\n        status: 'success',\n        isAuthenticated: true,\n      }\n    case SIGN_IN.FAILURE:\n      return {\n        ...state,\n        errText: action.text,\n        status: 'failure',\n      }\n    case SIGN_IN.CANCEL:\n      return {\n        ...state,\n        status: 'cancel',\n      }\n    case SIGN_OUT.REQUEST:\n      return {\n        ...state,\n      }\n    case SIGN_OUT.SUCCESS:\n      return {\n        ...state,\n        isAuthenticated: false,\n      }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport auth from './auth.js'\n\nconst rootReducer = combineReducers({\n  auth: auth,\n})\n\nexport default rootReducer\n","import React from 'react'\n\nclass PublicShow extends React.Component {\n  render() {\n    return <div>public</div>\n  }\n}\n\nexport default PublicShow\n","import React from 'react'\n\nclass ProtectedShow extends React.Component {\n  render() {\n    return <div>protected</div>\n  }\n}\n\nexport default ProtectedShow\n","import { SIGN_IN, SIGN_OUT } from '../constants/AuthTypes.js'\n\nexport function signOut() {\n  return { type: SIGN_OUT.REQUEST }\n}\n\nexport function signIn(authParams) {\n  return { type: SIGN_IN.REQUEST, payload: authParams }\n}\n\nexport function cancelSignIn() {\n  return { type: SIGN_IN.CANCEL }\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport { connect } from 'react-redux'\nimport { Form, Field } from 'react-final-form'\nimport { bindActionCreators, compose } from 'redux'\nimport styled from 'styled-components'\nimport { signIn, cancelSignIn } from '../../../actions/AuthActions.js'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst FormGroup = styled.div`\n  margin-bottom: 18px;\n`\nconst Input = styled.input`\n  display: inline-block;\n  width: 80%;\n  padding: 5px 12px;\n  font-size: 13px;\n  color: #222222;\n  background-color: #ffffff;\n  background-image: none;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n`\nconst Error = styled.div`\n  display: block;\n  color: #db3d44;\n  font-size: 12px;\n  position: absolute;\n`\n\nconst useStyles = makeStyles({\n  button: {\n    backgroundColor: 'grey',\n    color: '#f2f2f2',\n  },\n  progress: {\n    width: '24px',\n    height: '24px',\n  },\n  closeButton: {\n    position: 'absolute',\n    right: '7px',\n    top: '7px',\n  },\n})\n\nconst SignInDialog = props => {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n\n  function handleClickOpen() {\n    setOpen(true)\n  }\n\n  function handleClose() {\n    setOpen(false)\n    if (props.status === 'request') {\n      props.cancelSignIn()\n    }\n  }\n\n  async function handleSignIn(values) {\n    props.signIn({\n      username: values.username,\n      password: values.password,\n      history: props.history,\n    })\n  }\n\n  const required = value => (value ? undefined : 'This is a required field')\n\n  return (\n    <div>\n      <Button className={classes.button} onClick={handleClickOpen}>\n        Sign In\n      </Button>\n\n      <Dialog open={open} aria-labelledby=\"dialog-title\" onClose={handleClose}>\n        <DialogTitle id=\"dialog-title\">\n          Sign In\n          <IconButton className={classes.closeButton} onClick={handleClose}>\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <Form\n          onSubmit={handleSignIn}\n          render={({ handleSubmit, submitting, values }) => (\n            <form onSubmit={handleSubmit}>\n              <DialogContent>\n                <Field name=\"username\" validate={required}>\n                  {({ input, meta }) => (\n                    <div>\n                      <FormGroup>\n                        <label>Username</label>\n                        <Input\n                          {...input}\n                          type=\"text\"\n                          placeholder=\"Enter Username\"\n                        />\n                        <Error>\n                          {meta.error && meta.touched && (\n                            <span>{meta.error}</span>\n                          )}\n                        </Error>\n                      </FormGroup>\n                    </div>\n                  )}\n                </Field>\n                <Field name=\"password\" validate={required}>\n                  {({ input, meta }) => (\n                    <div>\n                      <FormGroup>\n                        <label>Password</label>\n                        <Input\n                          {...input}\n                          type=\"text\"\n                          placeholder=\"Enter Password\"\n                        />\n                        <Error>\n                          {meta.error && meta.touched && (\n                            <span>{meta.error}</span>\n                          )}\n                        </Error>\n                      </FormGroup>\n                    </div>\n                  )}\n                </Field>\n                <Error>{props.status === 'failure' ? props.errText : ''}</Error>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={handleClose} color=\"secondary\">\n                  Cancel\n                </Button>\n                <Button type=\"submit\" color=\"primary\" disabled={submitting}>\n                  {props.status === 'request' ? (\n                    <CircularProgress className={classes.progress} />\n                  ) : (\n                    'Sign In'\n                  )}\n                </Button>\n              </DialogActions>\n            </form>\n          )}\n        />\n      </Dialog>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  status: state.auth.status,\n  errText: state.auth.errText,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      signIn,\n      cancelSignIn,\n    },\n    dispatch\n  )\n}\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(SignInDialog)\n","import React from 'react'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport SignInDialog from './components/SignInDialog.js'\n\nclass SignInShow extends React.Component {\n  render() {\n    return (\n      <div>\n        <SignInDialog\n          open={this.props.showSignInForm}\n          history={this.props.history}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(SignInShow)\n","import React from 'react'\nimport { bindActionCreators, compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { signOut } from '../../actions/AuthActions.js'\n\nclass AuthButton extends React.Component {\n  render() {\n    return this.props.isAuthenticated ? (\n      <p>\n        Welcome!{' '}\n        <button\n          onClick={() => {\n            this.props.signOut()\n          }}\n        >\n          Sign out\n        </button>\n      </p>\n    ) : (\n      <p>You are not logged in.</p>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      signOut,\n    },\n    dispatch\n  )\n}\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AuthButton)\n","import React from 'react'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n} from 'react-router-dom'\nimport PublicShow from './views/Public/PublicShow'\nimport ProtectedShow from './views/Protected/ProtectedShow'\nimport SignInShow from './views/SignIn/SignInShow'\nimport AuthButton from './views/Auth/AuthButton'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Router basename=\"/wistron-frontend-homework\">\n        <div style={{ padding: '20px' }}>\n          <AuthButton />\n          <ul>\n            <li>\n              <Link to=\"/public\">Public Page</Link>\n            </li>\n            <li>\n              <Link to=\"/protected\">Protected Page</Link>\n            </li>\n          </ul>\n          <hr />\n\n          <Route exact path=\"/\" />\n          <Route path=\"/public\" component={PublicShow} />\n          <Route\n            path=\"/protected\"\n            render={() => {\n              return this.props.isAuthenticated ? (\n                <ProtectedShow />\n              ) : (\n                <Redirect to=\"/signin\" />\n              )\n            }}\n          />\n          <Route path=\"/signin\" component={SignInShow} />\n        </div>\n      </Router>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import _axios from 'axios'\nconst CLIENT_API_URL = '/api'\n\nexport class API {\n  static singleton = null\n  axios = null\n\n  constructor(uri) {\n    _axios.create({\n      baseURL: uri,\n      responseType: 'json',\n      timeout: 30000,\n    })\n  }\n}\n\nexport default _axios.create({\n  baseURL: CLIENT_API_URL,\n  responseType: 'json',\n  timeout: 30000,\n})\n","import axios from './index.js'\nimport MockAdapter from 'axios-mock-adapter'\n\nvar mock = new MockAdapter(axios, { delayResponse: 3000 })\n// var mock = new MockAdapter(axios)\n\nmock.onPost('/api/login').reply(function(config) {\n  const data = JSON.parse(config.data)\n  const username = data.username\n  const password = data.password\n\n  if (username === 'guest' && password === 'guest') {\n    return [\n      200,\n      {\n        token: 'XXXX',\n      },\n    ]\n  } else {\n    return [\n      401,\n      {\n        text: 'Incorrect username or password',\n      },\n    ]\n  }\n})\n\nexport function* loginAPI({ username, password }) {\n  return yield axios({\n    url: `/login`,\n    method: 'post',\n    data: {\n      username: username,\n      password: password,\n    },\n  })\n}\n","import { delay } from 'redux-saga'\nimport {\n  put,\n  takeEvery,\n  all,\n  call,\n  fork,\n  take,\n  cancel,\n} from 'redux-saga/effects'\nimport { SIGN_IN, SIGN_OUT } from './constants/AuthTypes.js'\nimport { loginAPI } from './services/api/loginAPI.js'\n\nexport default function* rootSaga() {\n  yield all([call(watchRequestLogin), call(watchRequestSignOut)])\n}\n\nexport function* watchRequestLogin() {\n  yield takeEvery(SIGN_IN.REQUEST, loginFlow)\n}\n\nexport function* watchRequestSignOut() {\n  yield takeEvery(SIGN_OUT.REQUEST, signOutFlow)\n}\n\nexport function* authorize({ username, password, history }) {\n  try {\n    const response = yield call(loginAPI, {\n      username: username,\n      password: password,\n    })\n    yield put({ type: SIGN_IN.SUCCESS })\n    yield put(history.push('/protected'))\n  } catch (error) {\n    yield put({ type: SIGN_IN.FAILURE, text: error.response.data.text })\n  }\n}\n\nexport function* loginFlow({ payload }) {\n  const task = yield fork(authorize, {\n    username: payload.username,\n    password: payload.password,\n    history: payload.history,\n  })\n  yield take(SIGN_IN.CANCEL)\n  yield cancel(task)\n}\n\nexport function* signOutFlow() {\n  yield put({ type: SIGN_OUT.SUCCESS })\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { Provider } from 'react-redux'\nimport reducer from './reducers'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport createSagaMiddleware from 'redux-saga'\nimport './styles/global.css'\n\nimport rootSaga from './sagas'\n\nconst sagaMiddleware = createSagaMiddleware()\nconst middlewares = applyMiddleware(sagaMiddleware)\nconst store = createStore(reducer, compose(middlewares))\nsagaMiddleware.run(rootSaga)\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n)\n\nserviceWorker.unregister()\n"],"sourceRoot":""}