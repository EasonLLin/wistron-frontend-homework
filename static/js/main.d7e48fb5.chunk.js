(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{73:function(e,t,n){e.exports=n(85)},82:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),u=n.n(c),o=n(44),i=n(17),l=n(26),s=n(38),b={REQUEST:"POST_SIGN_IN_REQUEST",SUCCESS:"POST_SIGN_IN_SUCCESS",FAILURE:"POST_SIGN_IN_FAILURE",CANCEL:"POST_SIGN_IN_CANCEL"},p={status:null,isAuthenticated:!1,userName:null,password:null,showSignInForm:!1},m=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_NAME":return Object(s.a)({},e,{userNmae:t.payload});case"UPDATE_PASSWORD":return Object(s.a)({},e,{password:t.payload});case b.REQUEST:return Object(s.a)({},e,{status:"request"});case b.SUCCESS:return Object(s.a)({},e,{status:"success",isAuthenticated:!0});case b.FAILURE:return Object(s.a)({},e,{status:"failure"});case"POST_SIGN_OUT":return Object(s.a)({},e,{isAuthenticated:!1});case"TOGGLE_SIGN_IN_FORM":return Object(s.a)({},e,{showSignInForm:!e.showSignInForm});default:return e}}}),d=(n(82),n(23)),h=n(24),O=n(27),E=n(25),f=n(28),j=n(36),S=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"public")}}]),t}(r.a.Component),g=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"protected")}}]),t}(r.a.Component),v=n(55),w=n(124),I=n(16),y=n.n(I),C=n(45),_=function(){return function(){var e=Object(C.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"POST_SIGN_OUT"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},N=n(125),A=n(127),k=n(122),T=n(121),U=n(128),P=n(123),R=Object(w.a)({button:{backgroundColor:"grey",color:"#f2f2f2"}}),x=Object(i.d)(Object(l.b)(function(e){return{}},function(e){return{postSignIn:function(){return e({type:"POST_SIGN_IN_REQUEST"})}}}))(function(e){var t=R(),n=r.a.useState(!1),a=Object(v.a)(n,2),c=a[0],u=a[1],o=r.a.useState(""),i=Object(v.a)(o,2),l=i[0],s=i[1],b=r.a.useState(""),p=Object(v.a)(b,2),m=p[0],d=p[1];function h(){u(!1)}return r.a.createElement("div",null,r.a.createElement(N.a,{className:t.button,onClick:function(){u(!0)}},"Sign In"),r.a.createElement(A.a,{open:c,"aria-labelledby":"dialog-title",onClose:h},r.a.createElement(U.a,{id:"dialog-title"},"Sign In"),r.a.createElement(T.a,null,r.a.createElement("div",null,r.a.createElement(P.a,{label:"Username",value:l,onChange:function(e){s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(P.a,{label:"Password",type:"password",value:m,onChange:function(e){d(e.target.value)}}))),r.a.createElement(k.a,null,r.a.createElement(N.a,{onClick:h,color:"secondary"},"Cancel"),r.a.createElement(N.a,{onClick:e.postSignIn,color:"primary"},"Sign In"))))}),G=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{open:this.props.showSignInForm}))}}]),t}(r.a.Component),F=Object(i.d)(Object(l.b)(function(e){return{}},function(e){return{}}))(G),L=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement("p",null,"Welcome!"," ",r.a.createElement("button",{onClick:function(){_()}},"Sign out")):r.a.createElement("p",null,"You are not logged in.")}}]),t}(r.a.Component),Q=Object(i.d)(Object(l.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},function(e){return{postSignOut:function(){return e(_())}}}))(L),W={isAuthenticated:!1,authenticate:function(e){this.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){this.isAuthenticated=!1,setTimeout(e,100)}},D=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(o.a,null,r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement(Q,null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/public"},"Public Page")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/protected"},"Protected Page"))),r.a.createElement("hr",null),r.a.createElement(j.b,{exact:!0,path:"/"}),r.a.createElement(j.b,{path:"/public",component:S}),r.a.createElement(j.b,{path:"/protected",render:function(){return console.log("auth",W),W.isAuthenticated?r.a.createElement(g,null):r.a.createElement(j.a,{to:"/signin"})}}),r.a.createElement(j.b,{path:"/signin",component:F})))}}]),t}(r.a.Component),B=Object(i.d)(Object(l.b)(function(e){return{userName:e.auth.userName,password:e.auth.password,isAuthenticated:e.auth.isAuthenticated}},function(e){return{}}))(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(58),M=n(46),q=y.a.mark(z),Y=y.a.mark(H),$=y.a.mark(K);function z(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a[H()];case 2:case"end":return e.stop()}},q)}function H(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saga woohoo"),e.next=3,Object(M.c)(b.REQUEST,K);case 3:case"end":return e.stop()}},Y)}function K(e){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loginFlow"),e.prev=1,e.next=4,Object(M.b)({type:b.SUCCESS});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,Object(M.b)({type:b.ERROR,error:e.t0});case 10:case"end":return e.stop()}},$,null,[[1,6]])}var V=Object(J.a)(),X=Object(i.e)(m,Object(i.a)(V));V.run(z),u.a.render(r.a.createElement(l.a,{store:X},r.a.createElement(o.a,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[73,1,2]]]);
//# sourceMappingURL=main.d7e48fb5.chunk.js.map